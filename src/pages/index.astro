---
import Layout from "../layouts/Layout.astro";
import * as Plot from "@observablehq/plot";
import Card from "../components/PlotFigure.astro";
import penguins from "../assets/datasets/penguins.json";
---

<Layout title="R312 TP1">
  <div>
    <h3>
      Distribution de la largeur et de la profondeur du bec dans une population de
      manchots
    </h3>
    <div>
      <Card
        options={{
          marks: [ 
            Plot.dot(penguins, { x: "culmen_length_mm", y: "culmen_depth_mm" }),
          ],
        }}
      />
    </div>

    <h3>
      Densité des dimensions du bec dans 3 espèces de manchots différentes
    </h3>
    <div>
      <Card
        options={{
          marks: [
            Plot.density(penguins, {
              fx: "species",
              x: "flipper_length_mm",
              y: "culmen_length_mm",
              stroke: "density",
              clip: true,
            }),
            Plot.frame(),
          ],
        }}
      />
    </div>

    <h3>
      Réparition des individus par poids et par sexe
      dans une population de manchots
    </h3>
    <div>
      <Card
        options={{
          y: { grid: true },
          color: { legend: true },
          marks: [
            Plot.rectY(
              penguins,
              Plot.binX({ y: "count" }, { x: "body_mass_g", fill: "sex" })
            ),
            Plot.ruleY([0]),
          ],
        }}
      />
    </div>
  </div>
</Layout>
